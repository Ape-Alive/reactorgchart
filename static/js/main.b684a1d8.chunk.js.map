{"version":3,"sources":["components/service.js","components/ChartNode.js","components/ChartContainer.js","pan-zoom-chart/pan-zoom-chart.js","App.js","serviceWorker.js","index.js"],"names":["subject1","Subject","subject2","dragNodeService","id","next","draggedNodeId","asObservable","selectNodeService","selectedNodeId","ChartNode","datasource","NodeTemplate","draggable","collapsible","multipleSelect","changeHierarchy","onClickNode","node","useRef","useState","isChildrenCollapsed","setIsChildrenCollapsed","topEdgeExpanded","setTopEdgeExpanded","rightEdgeExpanded","setRightEdgeExpanded","bottomEdgeExpanded","setBottomEdgeExpanded","leftEdgeExpanded","setLeftEdgeExpanded","allowedDrop","setAllowedDrop","selected","setSelected","nodeClass","filter","item","join","useEffect","subs1","subscribe","draggedInfo","document","querySelector","closest","current","subs2","selectedNodeInfo","unsubscribe","toggleAncestors","actionNode","parentNode","firstChild","classList","contains","remove","isSiblingsCollapsed","Array","from","children","some","toggleSiblings","add","split","previousSibling","toggle","nextSibling","hEdgeClickHandler","e","stopPropagation","target","className","ref","undefined","onClick","event","onDragStart","copyDS","relationship","dataTransfer","setData","JSON","stringify","onDragOver","preventDefault","onDragEnd","onDrop","currentTarget","parse","getData","onMouseEnter","parent","isAncestorsCollapsed","onMouseLeave","nodeData","style","backgroundColor","colorId","charAt","name","borderColor","borderWidth","title","length","map","key","defaultProps","ChartContainer","forwardRef","pan","zoom","zoomoutLimit","zoominLimit","containerClass","chartClass","onClickChart","container","chart","downloadButton","startX","setStartX","startY","setStartY","transform","setTransform","panning","setPanning","cursor","setCursor","exporting","setExporting","dataURL","setDataURL","download","setDownload","ds","setDS","dsDigger","JSONDigger","useImperativeHandle","exportTo","exportFilename","exportFileextension","originalScrollLeft","scrollLeft","originalScrollTop","scrollTop","html2canvas","width","clientWidth","height","clientHeight","onclone","clonedDoc","background","then","canvas","toLowerCase","canvasWidth","Math","floor","canvasHeight","doc","jsPDF","orientation","unit","format","addImage","toDataURL","save","exportPDF","isWebkit","documentElement","isFf","window","sidebar","isEdge","navigator","appName","appVersion","indexOf","msSaveBlob","msToBlob","click","exportPNG","expandAllNodes","querySelectorAll","forEach","el","onWheel","newScale","matrix","targetScale","abs","parseFloat","updateChartScale","deltaY","onMouseUp","onMouseDown","lastX","lastY","parseInt","targetTouches","pageX","pageY","onMouseMove","newX","newY","attachRel","data","flags","draggedItemData","dropTargetId","a","async","removeNode","addChildren","href","PanZoomChart","orgchart","filename","setFilename","fileextension","setFileextension","onExtensionChange","value","htmlFor","type","onChange","fontSize","marginRight","checked","marginLeft","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b684a1d8.chunk.js","sourcesContent":["import { Subject } from \"rxjs\";\n\nconst subject1 = new Subject();\nconst subject2 = new Subject();\n\nexport const dragNodeService = {\n  sendDragInfo: id => subject1.next({ draggedNodeId: id }),\n  clearDragInfo: () => subject1.next(),\n  getDragInfo: () => subject1.asObservable()\n};\n\nexport const selectNodeService = {\n  sendSelectedNodeInfo: id => subject2.next({ selectedNodeId: id }),\n  clearSelectedNodeInfo: () => subject2.next(),\n  getSelectedNodeInfo: () => subject2.asObservable()\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { dragNodeService, selectNodeService } from \"./service\";\nimport \"./ChartNode.css\";\n\nconst propTypes = {\n  datasource: PropTypes.object,\n  NodeTemplate: PropTypes.elementType,\n  draggable: PropTypes.bool,\n  collapsible: PropTypes.bool,\n  multipleSelect: PropTypes.bool,\n  changeHierarchy: PropTypes.func,\n  onClickNode: PropTypes.func\n};\n\nconst defaultProps = {\n  draggable: false,\n  collapsible: true,\n  multipleSelect: false\n};\n\nconst ChartNode = ({\n  datasource,\n  NodeTemplate,\n  draggable,\n  collapsible,\n  multipleSelect,\n  changeHierarchy,\n  onClickNode\n}) => {\n  const node = useRef();\n\n  const [isChildrenCollapsed, setIsChildrenCollapsed] = useState(false);\n  const [topEdgeExpanded, setTopEdgeExpanded] = useState();\n  const [rightEdgeExpanded, setRightEdgeExpanded] = useState();\n  const [bottomEdgeExpanded, setBottomEdgeExpanded] = useState();\n  const [leftEdgeExpanded, setLeftEdgeExpanded] = useState();\n  const [allowedDrop, setAllowedDrop] = useState(false);\n  const [selected, setSelected] = useState(false);\n\n  const nodeClass = [\n    \"oc-node\",\n    isChildrenCollapsed ? \"isChildrenCollapsed\" : \"\",\n    allowedDrop ? \"allowedDrop\" : \"\",\n    selected ? \"selected\" : \"\"\n  ]\n    .filter(item => item)\n    .join(\" \");\n\n  useEffect(() => {\n    const subs1 = dragNodeService.getDragInfo().subscribe(draggedInfo => {\n      if (draggedInfo) {\n        setAllowedDrop(\n          !document\n            .querySelector(\"#\" + draggedInfo.draggedNodeId)\n            .closest(\"li\")\n            .querySelector(\"#\" + node.current.id)\n            ? true\n            : false\n        );\n      } else {\n        setAllowedDrop(false);\n      }\n    });\n\n    const subs2 = selectNodeService\n      .getSelectedNodeInfo()\n      .subscribe(selectedNodeInfo => {\n        if (selectedNodeInfo) {\n          if (multipleSelect) {\n            if (selectedNodeInfo.selectedNodeId === datasource.id) {\n              setSelected(true);\n            }\n          } else {\n            setSelected(selectedNodeInfo.selectedNodeId === datasource.id);\n          }\n        } else {\n          setSelected(false);\n        }\n      });\n\n    return () => {\n      subs1.unsubscribe();\n      subs2.unsubscribe();\n    };\n  }, [multipleSelect, datasource]);\n\n  const addArrows = e => {\n    const node = e.target.closest(\"li\");\n    const parent = node.parentNode.closest(\"li\");\n    const isAncestorsCollapsed =\n      node && parent\n        ? parent.firstChild.classList.contains(\"hidden\")\n        : undefined;\n    const isSiblingsCollapsed = Array.from(\n      node.parentNode.children\n    ).some(item => item.classList.contains(\"hidden\"));\n\n    setTopEdgeExpanded(!isAncestorsCollapsed);\n    setRightEdgeExpanded(!isSiblingsCollapsed);\n    setLeftEdgeExpanded(!isSiblingsCollapsed);\n    setBottomEdgeExpanded(!isChildrenCollapsed);\n  };\n\n  const removeArrows = () => {\n    setTopEdgeExpanded(undefined);\n    setRightEdgeExpanded(undefined);\n    setBottomEdgeExpanded(undefined);\n    setLeftEdgeExpanded(undefined);\n  };\n\n  const toggleAncestors = actionNode => {\n    let node = actionNode.parentNode.closest(\"li\");\n    if (!node) return;\n    const isAncestorsCollapsed = node.firstChild.classList.contains(\"hidden\");\n    if (isAncestorsCollapsed) {\n      // 向上展开，只展开一级\n      actionNode.classList.remove(\"isAncestorsCollapsed\");\n      node.firstChild.classList.remove(\"hidden\");\n    } else {\n      // 向下折叠，则折叠所有祖先节点以及祖先节点的兄弟节点\n      const isSiblingsCollapsed = Array.from(\n        actionNode.parentNode.children\n      ).some(item => item.classList.contains(\"hidden\"));\n      if (!isSiblingsCollapsed) {\n        toggleSiblings(actionNode);\n      }\n      actionNode.classList.add(\n        ...(\n          \"isAncestorsCollapsed\" +\n          (isSiblingsCollapsed ? \"\" : \" isSiblingsCollapsed\")\n        ).split(\" \")\n      );\n      node.firstChild.classList.add(\"hidden\");\n      // 如果还有展开的祖先节点，那继续折叠关闭之\n      if (\n        node.parentNode.closest(\"li\") &&\n        !node.parentNode.closest(\"li\").firstChild.classList.contains(\"hidden\")\n      ) {\n        toggleAncestors(node);\n      }\n    }\n  };\n\n  const topEdgeClickHandler = e => {\n    e.stopPropagation();\n    setTopEdgeExpanded(!topEdgeExpanded);\n    toggleAncestors(e.target.closest(\"li\"));\n  };\n\n  const bottomEdgeClickHandler = e => {\n    e.stopPropagation();\n    setIsChildrenCollapsed(!isChildrenCollapsed);\n    setBottomEdgeExpanded(!bottomEdgeExpanded);\n  };\n\n  const toggleSiblings = actionNode => {\n    let node = actionNode.previousSibling;\n    const isSiblingsCollapsed = Array.from(\n      actionNode.parentNode.children\n    ).some(item => item.classList.contains(\"hidden\"));\n    actionNode.classList.toggle(\"isSiblingsCollapsed\", !isSiblingsCollapsed);\n    // 先处理同级的兄弟节点\n    while (node) {\n      if (isSiblingsCollapsed) {\n        node.classList.remove(\"hidden\");\n      } else {\n        node.classList.add(\"hidden\");\n      }\n      node = node.previousSibling;\n    }\n    node = actionNode.nextSibling;\n    while (node) {\n      if (isSiblingsCollapsed) {\n        node.classList.remove(\"hidden\");\n      } else {\n        node.classList.add(\"hidden\");\n      }\n      node = node.nextSibling;\n    }\n    // 在展开兄弟节点的同时，还要展开父节点\n    const isAncestorsCollapsed = actionNode.parentNode\n      .closest(\"li\")\n      .firstChild.classList.contains(\"hidden\");\n    if (isAncestorsCollapsed) {\n      toggleAncestors(actionNode);\n    }\n  };\n\n  const hEdgeClickHandler = e => {\n    e.stopPropagation();\n    setLeftEdgeExpanded(!leftEdgeExpanded);\n    setRightEdgeExpanded(!rightEdgeExpanded);\n    toggleSiblings(e.target.closest(\"li\"));\n  };\n\n  const filterAllowedDropNodes = id => {\n    dragNodeService.sendDragInfo(id);\n  };\n\n  const clickNodeHandler = event => {\n    if (onClickNode) {\n      onClickNode(datasource);\n    }\n\n    selectNodeService.sendSelectedNodeInfo(datasource.id);\n  };\n\n  const dragstartHandler = event => {\n    const copyDS = { ...datasource };\n    delete copyDS.relationship;\n    event.dataTransfer.setData(\"text/plain\", JSON.stringify(copyDS));\n    // highlight all potential drop targets\n    filterAllowedDropNodes(node.current.id);\n  };\n\n  const dragoverHandler = event => {\n    // prevent default to allow drop\n    event.preventDefault();\n  };\n\n  const dragendHandler = () => {\n    // reset background of all potential drop targets\n    dragNodeService.clearDragInfo();\n  };\n\n  const dropHandler = event => {\n    if (!event.currentTarget.classList.contains(\"allowedDrop\")) {\n      return;\n    }\n    dragNodeService.clearDragInfo();\n    changeHierarchy(\n      JSON.parse(event.dataTransfer.getData(\"text/plain\")),\n      event.currentTarget.id\n    );\n  };\n\n  return (\n    <li className=\"oc-hierarchy\">\n      <div\n        ref={node}\n        id={datasource.id}\n        className={nodeClass}\n        draggable={draggable ? \"true\" : undefined}\n        onClick={clickNodeHandler}\n        onDragStart={dragstartHandler}\n        onDragOver={dragoverHandler}\n        onDragEnd={dragendHandler}\n        onDrop={dropHandler}\n        onMouseEnter={addArrows}\n        onMouseLeave={removeArrows}\n      >\n        {NodeTemplate ? (\n          <NodeTemplate nodeData={datasource} />\n        ) : (\n          <>\n            <div className=\"oc-heading\" style={{backgroundColor:datasource.colorId}}>\n              {datasource.relationship &&\n                datasource.relationship.charAt(2) === \"1\" && (\n                  <div className=\"oci oci-leader oc-symbol\" />\n                )}\n            <div className=\"namelist\">\n              {datasource.name}\n            </div>\n            </div>\n            <div className=\"oc-content\" style={{borderColor:datasource.colorId,borderWidth:1}}>{datasource.title}</div>\n          </>\n        )}\n        {collapsible &&\n          datasource.relationship &&\n          datasource.relationship.charAt(0) === \"1\" && (\n            <i\n              className={`oc-edge verticalEdge topEdge oci ${\n                topEdgeExpanded === undefined\n                  ? \"\"\n                  : topEdgeExpanded\n                  ? \"oci-chevron-down\"\n                  : \"oci-chevron-up\"\n              }`}\n              onClick={topEdgeClickHandler}\n            />\n          )}\n        {collapsible &&\n          datasource.relationship &&\n          datasource.relationship.charAt(1) === \"1\" && (\n            <>\n              <i\n                className={`oc-edge horizontalEdge rightEdge oci ${\n                  rightEdgeExpanded === undefined\n                    ? \"\"\n                    : rightEdgeExpanded\n                    ? \"oci-chevron-left\"\n                    : \"oci-chevron-right\"\n                }`}\n                onClick={hEdgeClickHandler}\n              />\n              <i\n                className={`oc-edge horizontalEdge leftEdge oci ${\n                  leftEdgeExpanded === undefined\n                    ? \"\"\n                    : leftEdgeExpanded\n                    ? \"oci-chevron-right\"\n                    : \"oci-chevron-left\"\n                }`}\n                onClick={hEdgeClickHandler}\n              />\n            </>\n          )}\n        {collapsible &&\n          datasource.relationship &&\n          datasource.relationship.charAt(2) === \"1\" && (\n            <i\n              className={`oc-edge verticalEdge bottomEdge oci ${\n                bottomEdgeExpanded === undefined\n                  ? \"\"\n                  : bottomEdgeExpanded\n                  ? \"oci-chevron-up\"\n                  : \"oci-chevron-down\"\n              }`}\n              onClick={bottomEdgeClickHandler}\n            />\n          )}\n      </div>\n      {datasource.children && datasource.children.length > 0 && (\n        <ul className={isChildrenCollapsed ? \"hidden\" : \"\"}>\n          {datasource.children.map(node => (\n            <ChartNode\n              datasource={node}\n              NodeTemplate={NodeTemplate}\n              id={node.id}\n              key={node.id}\n              draggable={draggable}\n              collapsible={collapsible}\n              multipleSelect={multipleSelect}\n              changeHierarchy={changeHierarchy}\n              onClickNode={onClickNode}\n            />\n          ))}\n        </ul>\n      )}\n    </li>\n  );\n};\n\nChartNode.propTypes = propTypes;\nChartNode.defaultProps = defaultProps;\n\nexport default ChartNode;\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n  forwardRef,\n  useImperativeHandle\n} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { selectNodeService } from \"./service\";    \nimport JSONDigger from \"json-digger\";\nimport html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\nimport ChartNode from \"./ChartNode\";\nimport \"./ChartContainer.css\";\n\n\nconst propTypes = {\n  datasource: PropTypes.object.isRequired,\n  pan: PropTypes.bool,\n  zoom: PropTypes.bool,\n  zoomoutLimit: PropTypes.number,\n  zoominLimit: PropTypes.number,\n  containerClass: PropTypes.string,\n  chartClass: PropTypes.string,\n  NodeTemplate: PropTypes.elementType,\n  draggable: PropTypes.bool,\n  collapsible: PropTypes.bool,\n  multipleSelect: PropTypes.bool,\n  onClickNode: PropTypes.func,\n  onClickChart: PropTypes.func\n};\n\nconst defaultProps = {\n  pan: false,\n  zoom: false,\n  zoomoutLimit: 0.5,\n  zoominLimit: 7,\n  containerClass: \"\",\n  chartClass: \"\",\n  draggable: false,\n  collapsible: true,\n  multipleSelect: false\n};\n\nconst ChartContainer = forwardRef(\n  (\n    {\n      datasource,\n      pan,\n      zoom,\n      zoomoutLimit,\n      zoominLimit,\n      containerClass,\n      chartClass,\n      NodeTemplate,\n      draggable,\n      collapsible,\n      multipleSelect,\n      onClickNode,\n      onClickChart\n    },\n    ref\n  ) => {\n    const container = useRef();\n    const chart = useRef();\n    const downloadButton = useRef();\n\n    const [startX, setStartX] = useState(0);\n    const [startY, setStartY] = useState(0);\n    const [transform, setTransform] = useState(\"\");\n    const [panning, setPanning] = useState(false);\n    const [cursor, setCursor] = useState(\"default\");\n    const [exporting, setExporting] = useState(false);\n    const [dataURL, setDataURL] = useState(\"\");\n    const [download, setDownload] = useState(\"\");\n\n    const attachRel = (data, flags) => {\n      data.relationship =\n        flags + (data.children && data.children.length > 0 ? 1 : 0);\n      if (data.children) {\n        data.children.forEach(function(item) {\n          attachRel(item, \"1\" + (data.children.length > 1 ? 1 : 0));\n        });\n      }\n      return data;\n    };\n\n    const [ds, setDS] = useState(datasource);\n    useEffect(() => {\n      setDS(datasource);\n    }, [datasource]);\n\n    const dsDigger = new JSONDigger(datasource, \"id\", \"children\");\n\n    const clickChartHandler = event => {\n      if (!event.target.closest(\".oc-node\")) {\n        if (onClickChart) {\n          onClickChart();\n        }\n        selectNodeService.clearSelectedNodeInfo();\n      }\n    };\n\n    const panEndHandler = () => {\n      setPanning(false);\n      setCursor(\"default\");\n    };\n\n    const panHandler = e => {\n      let newX = 0;\n      let newY = 0;\n      if (!e.targetTouches) {\n        // pand on desktop\n        newX = e.pageX - startX;\n        newY = e.pageY - startY;\n      } else if (e.targetTouches.length === 1) {\n        // pan on mobile device\n        newX = e.targetTouches[0].pageX - startX;\n        newY = e.targetTouches[0].pageY - startY;\n      } else if (e.targetTouches.length > 1) {\n        return;\n      }\n      if (transform === \"\") {\n        if (transform.indexOf(\"3d\") === -1) {\n          setTransform(\"matrix(1,0,0,1,\" + newX + \",\" + newY + \")\");\n        } else {\n          setTransform(\n            \"matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,\" + newX + \", \" + newY + \",0,1)\"\n          );\n        }\n      } else {\n        let matrix = transform.split(\",\");\n        if (transform.indexOf(\"3d\") === -1) {\n          matrix[4] = newX;\n          matrix[5] = newY + \")\";\n        } else {\n          matrix[12] = newX;\n          matrix[13] = newY;\n        }\n        setTransform(matrix.join(\",\"));\n      }\n    };\n\n    const panStartHandler = e => {\n      if (e.target.closest(\".oc-node\")) {\n        setPanning(false);\n        return;\n      } else {\n        setPanning(true);\n        setCursor(\"move\");\n      }\n      let lastX = 0;\n      let lastY = 0;\n      if (transform !== \"\") {\n        let matrix = transform.split(\",\");\n        if (transform.indexOf(\"3d\") === -1) {\n          lastX = parseInt(matrix[4]);\n          lastY = parseInt(matrix[5]);\n        } else {\n          lastX = parseInt(matrix[12]);\n          lastY = parseInt(matrix[13]);\n        }\n      }\n      if (!e.targetTouches) {\n        // pand on desktop\n        setStartX(e.pageX - lastX);\n        setStartY(e.pageY - lastY);\n      } else if (e.targetTouches.length === 1) {\n        // pan on mobile device\n        setStartX(e.targetTouches[0].pageX - lastX);\n        setStartY(e.targetTouches[0].pageY - lastY);\n      } else if (e.targetTouches.length > 1) {\n        return;\n      }\n    };\n\n    const updateChartScale = newScale => {\n      let matrix = [];\n      let targetScale = 1;\n      if (transform === \"\") {\n        setTransform(\"matrix(\" + newScale + \", 0, 0, \" + newScale + \", 0, 0)\");\n      } else {\n        matrix = transform.split(\",\");\n        if (transform.indexOf(\"3d\") === -1) {\n          targetScale = Math.abs(window.parseFloat(matrix[3]) * newScale);\n          if (targetScale > zoomoutLimit && targetScale < zoominLimit) {\n            matrix[0] = \"matrix(\" + targetScale;\n            matrix[3] = targetScale;\n            setTransform(matrix.join(\",\"));\n          }\n        } else {\n          targetScale = Math.abs(window.parseFloat(matrix[5]) * newScale);\n          if (targetScale > zoomoutLimit && targetScale < zoominLimit) {\n            matrix[0] = \"matrix3d(\" + targetScale;\n            matrix[5] = targetScale;\n            setTransform(matrix.join(\",\"));\n          }\n        }\n      }\n    };\n\n    const zoomHandler = e => {\n      let newScale = 1 + (e.deltaY > 0 ? -0.2 : 0.2);\n      updateChartScale(newScale);\n    };\n\n    const exportPDF = (canvas, exportFilename) => {\n      const canvasWidth = Math.floor(canvas.width);\n      const canvasHeight = Math.floor(canvas.height);\n      const doc =\n        canvasWidth > canvasHeight\n          ? new jsPDF({\n              orientation: \"landscape\",\n              unit: \"px\",\n              format: [canvasWidth, canvasHeight]\n            })\n          : new jsPDF({\n              orientation: \"portrait\",\n              unit: \"px\",\n              format: [canvasHeight, canvasWidth]\n            });\n      doc.addImage(canvas.toDataURL(\"image/jpeg\", 1.0), \"JPEG\", 0, 0);\n      doc.save(exportFilename + \".pdf\");\n    };\n\n    const exportPNG = (canvas, exportFilename) => {\n      const isWebkit = \"WebkitAppearance\" in document.documentElement.style;\n      const isFf = !!window.sidebar;\n      const isEdge =\n        navigator.appName === \"Microsoft Internet Explorer\" ||\n        (navigator.appName === \"Netscape\" &&\n          navigator.appVersion.indexOf(\"Edge\") > -1);\n\n      if ((!isWebkit && !isFf) || isEdge) {\n        window.navigator.msSaveBlob(canvas.msToBlob(), exportFilename + \".png\");\n      } else {\n        setDataURL(canvas.toDataURL());\n        setDownload(exportFilename + \".png\");\n        downloadButton.current.click();\n      }\n    };\n\n    const changeHierarchy = async (draggedItemData, dropTargetId) => {\n      await dsDigger.removeNode(draggedItemData.id);\n      await dsDigger.addChildren(dropTargetId, draggedItemData);\n      setDS({ ...dsDigger.ds });\n    };\n\n    useImperativeHandle(ref, () => ({\n      exportTo: (exportFilename, exportFileextension) => {\n        exportFilename = exportFilename || \"OrgChart\";\n        exportFileextension = exportFileextension || \"png\";\n        setExporting(true);\n        const originalScrollLeft = container.current.scrollLeft;\n        container.current.scrollLeft = 0;\n        const originalScrollTop = container.current.scrollTop;\n        container.current.scrollTop = 0;\n        html2canvas(chart.current, {\n          width: chart.current.clientWidth,\n          height: chart.current.clientHeight,\n          onclone: function(clonedDoc) {\n            clonedDoc.querySelector(\".orgchart\").style.background = \"none\";\n            clonedDoc.querySelector(\".orgchart\").style.transform = \"\";\n          }\n        }).then(\n          canvas => {\n            if (exportFileextension.toLowerCase() === \"pdf\") {\n              exportPDF(canvas, exportFilename);\n            } else {\n              exportPNG(canvas, exportFilename);\n            }\n            setExporting(false);\n            container.current.scrollLeft = originalScrollLeft;\n            container.current.scrollTop = originalScrollTop;\n          },\n          () => {\n            setExporting(false);\n            container.current.scrollLeft = originalScrollLeft;\n            container.current.scrollTop = originalScrollTop;\n          }\n        );\n      },\n      expandAllNodes: () => {\n        chart.current\n          .querySelectorAll(\n            \".oc-node.hidden, .oc-hierarchy.hidden, .isSiblingsCollapsed, .isAncestorsCollapsed\"\n          )\n          .forEach(el => {\n            el.classList.remove(\n              \"hidden\",\n              \"isSiblingsCollapsed\",\n              \"isAncestorsCollapsed\"\n            );\n          });\n      }\n    }));\n\n    return (\n      <div\n        ref={container}\n        className={\"orgchart-container \" + containerClass}\n        onWheel={zoom ? zoomHandler : undefined}\n        onMouseUp={pan && panning ? panEndHandler : undefined}\n      >\n         \n        <div\n          ref={chart}\n          className={\"orgchart \" + chartClass}\n          style={{ transform: transform, cursor: cursor }}\n          onClick={clickChartHandler}\n          onMouseDown={pan ? panStartHandler : undefined}\n          onMouseMove={pan && panning ? panHandler : undefined}\n        >\n         \n          <ul className={\"ulclass\"}>\n          <div className={\"boxtopleft\"}>\n            <div className={\"partOne\"}>\n              <div>贵宾服务部</div>\n              <div>VIP Services</div>\n              \n              <div className={\"partOnePerson\"}>现在人数：{1300}人</div>\n              <div>2020年预算：{1300}人</div>\n            </div>\n            <div className={\"partTow\"}>\n            <div>\n              <span className={\"nodelist\"} style={{backgroundColor:\"rgb(214, 149, 43)\"}}>顶级部门</span>\n              <span className={\"nodeli\"}>AA</span>\n            </div>\n            <div>\n              <span className={\"nodelist\" } style={{backgroundColor:\"rgb(240, 197, 128)\"}} >二级部门</span>\n              <span className={\"nodeli\"}>A</span>\n            </div>\n            <div>\n              <span className={\"nodelist\"} style={{backgroundColor:\"rgb(198, 233, 104)\"}} >三级部门</span>\n              <span className={\"nodeli\"}>B</span>\n            </div>\n            <div>\n              <span className={\"nodelist\"} style={{backgroundColor:\"rgb(104, 207, 233)\"}} >四级部门</span>\n              <span className={\"nodeli\"}>C</span>\n            </div>\n            <div>\n              <span className={\"nodelist\"} style={{backgroundColor:\"rgb(214, 104, 233)\"}}>五级部门</span>\n              <span className={\"nodeli\"}>D</span>\n            </div>\n            </div>\n          </div>\n          \n          {/* <div className={\"\"}></div>\n          <div className={\"\"}></div> */}\n            <ChartNode\n              datasource={attachRel(ds, \"00\")}\n              NodeTemplate={NodeTemplate}\n              draggable={draggable}\n              collapsible={collapsible}\n              multipleSelect={multipleSelect}\n              changeHierarchy={changeHierarchy}\n              onClickNode={onClickNode}\n            />\n            <div className={\"boxtopright\"}>\n            <div className={\"partThird\"}></div>\n            <div className={\"partFour\"}>\n              <div>更新：{}</div>\n              <div>制作：人力资源部</div>\n            </div>\n            </div>\n          </ul>\n        </div>\n        <a\n          className=\"oc-download-btn hidden\"\n          ref={downloadButton}\n          href={dataURL}\n          download={download}\n        >\n          &nbsp;\n        </a>\n        <div className={`oc-mask ${exporting ? \"\" : \"hidden\"}`}>\n          <i className=\"oci oci-spinner spinner\"></i>\n        </div>\n      </div>\n    );\n  }\n);\n\nChartContainer.propTypes = propTypes;\nChartContainer.defaultProps = defaultProps;\n\nexport default ChartContainer;\n","import React, { useRef, useState } from \"react\";\nimport OrganizationChart from \"../components/ChartContainer\";\nimport \"./export-chart.css\";\n\nconst PanZoomChart = () => {\n  const orgchart = useRef();\n  // const ds = {\n  //   id: \"n1\",\n  //   name: \"陳榮煉Levo\",\n  //   title: \"主席兼執行董事\",\n  //   colorId:\"red\",\n  //   children: [\n  //     { id: \"n2\", name: \"曾家雄KH\", title: \"執行董事\",children:[\n  //       {id:\"n12\",name:\"勇大安Eric\",title:\"财务副总裁\",children:[\n  //         {id:\"n15\",name:\"财务部\"},\n  //         {id:\"n16\",name:\"规章部\"},\n  //         {id:\"n17\",name:\"内务部\"}\n  //       ]},\n  //       {id:\"n13\",name:\"企业策划部\"},\n  //       {id:\"n14\",name:\"财务策划部\"}\n  //     ] },\n  //     {\n  //       id: \"n3\",\n  //       name: \"王珮Cherie\",\n  //       title: \"集團高級副總\",\n  //       children: [\n  //         { id: \"n4\", name: \"账房部\" },\n  //         {id: \"n5\",name: \"账房业务部\"},\n  //         { id: \"n8\", name: \"中央账房部\"},\n  //         {id:\"n18\",name:\"海外事业部\"},\n  //         {id:\"n19\",name:\"信贷管理部\"},\n  //         {id:\"n20\",name:\"法律业务部\"}\n  //       ]\n  //     },\n  //     {id:\"n21\",name:\"总裁办公室\"},\n  //     {id:\"n22\",name:\"业务扩展部\"},\n  //     {id:\"n23\",name:\"市场发展部\"},\n  //     { id: \"n9\", name: \"运营总裁\", title: \"李彦霖Vincent\",children:[\n  //       {},\n  //       {},\n  //       {},\n  //       {},\n  //       {},\n  //       {},\n  //       {},\n  //       {},\n  //       {}\n  //     ] }\n     \n  //   ]\n  // };\n  const ds= {\n    \"id\": \"n1\",\n    \"name\": \"德晋集团\",\n    \"title\": \"\",\n    \"colorId\":\"rgb(214, 149, 43)\",\n    \"children\": [\n    {\n      \"id\": \"1001A1100000000003W8\",\n      \"name\": \"人力資源部\",\n      \"totalnumber\": 29,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 29\n    },\n    {\n      \"id\": \"1001A110000000004DF9\",\n      \"name\": \"中央客戶服務部\",\n      \"totalnumber\": 1,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":1\n    },\n    {\n      \"id\": \"1001A1100000000003VS\",\n      \"name\": \"中央監察部\",\n      \"totalnumber\": 7,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 7\n    },\n    {\n      \"id\": \"1001A110000000004DHR\",\n      \"name\": \"德晉集團\",\n      \"totalnumber\": 1,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":1\n    },\n    {\n      \"id\": \"1001A110000000002225\",\n      \"name\": \"市場發展部\",\n      \"totalnumber\": 5,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":5,\n      \"children\": [\n        {\n          \"id\": \"1001A11000000000221Z\",\n          \"name\": \"客戶關係發展部\",\n          \"totalnumber\": 21,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 21\n        },\n        {\n          \"id\": \"1001A11000000000221X\",\n          \"name\": \"尊御服務部\",\n          \"totalnumber\": 8,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 8\n        },\n        {\n          \"id\": \"1001A110000000002223\",\n          \"name\": \"策略分析部\",\n          \"totalnumber\": 2,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 2\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A11000000000221V\",\n      \"name\": \"韓國\",\n      \"totalnumber\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"children\": [\n        {\n          \"id\": \"1001A11000000000221T\",\n          \"name\": \"韓國海外市場部\",\n          \"totalnumber\": 1,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 1\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A11000000000221P\",\n      \"name\": \"禮賓部\",\n      \"totalnumber\": 49,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":49,\n      \"children\": [\n        {\n          \"id\": \"1001A11000000000221N\",\n          \"name\": \"車務部\",\n          \"totalnumber\": 40,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 40\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A11000000000221L\",\n      \"name\": \"海外市場部\",\n      \"totalnumber\": 14,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 14\n    },\n    {\n      \"id\": \"1001A110000000001L4J\",\n      \"name\": \"財務部\",\n      \"totalnumber\": 4,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":4,\n      \"children\": [\n        {\n          \"id\": \"1001A11000000000221D\",\n          \"name\": \"會計組\",\n          \"totalnumber\": 10,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 10\n        },\n        {\n          \"id\": \"1001A11000000000221F\",\n          \"name\": \"財務組\",\n          \"totalnumber\": 10,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 10\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A110000000004DF5\",\n      \"name\": \"市場推廣部\",\n      \"totalnumber\": 1,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":1\n    },\n    {\n      \"id\": \"1001A110000000001L4S\",\n      \"name\": \"資訊科技部\",\n      \"totalnumber\": 20,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 20\n    },\n    {\n      \"id\": \"1001A11000000000221H\",\n      \"name\": \"內審部\",\n      \"totalnumber\": 1,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 1\n    },\n    {\n      \"id\": \"1001A11000000000221J\",\n      \"name\": \"規章部\",\n      \"totalnumber\": 8,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 8\n    },\n    {\n      \"id\": \"1001A1100000000003W1\",\n      \"name\": \"行政總裁辦公室\",\n      \"totalnumber\": 1,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 1\n    },\n    {\n      \"id\": \"1001A110000000008XEX\",\n      \"name\": \"部門\",\n      \"totalnumber\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"children\": [\n        {\n          \"id\": \"1001A110000000008XF4\",\n          \"name\": \"分部\",\n          \"totalnumber\": 18,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"children\": [\n            {\n              \"id\": \"1001A110000000008XFJ\",\n              \"name\": \"分組\",\n              \"totalnumber\": 31,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 31\n            }\n          ],\n          \"title\": null\n        },\n        {\n          \"id\": \"1001A11000000000HKOS\",\n          \"name\": \"分部2\",\n          \"totalnumber\": 9,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 9\n        },\n        {\n          \"id\": \"1001A11000000000I2VD\",\n          \"name\": \"TEST0001\",\n          \"totalnumber\": 1,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 1\n        },\n        {\n          \"id\": \"1001A11000000000JBCY\",\n          \"name\": \"分部3\",\n          \"totalnumber\": 4,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 4\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A1100000000027KN\",\n      \"name\": \"海外區域營運\",\n      \"totalnumber\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"children\": [\n        {\n          \"id\": \"1001A1100000000027KF\",\n          \"name\": \"菲律賓(馬尼拉)\",\n          \"totalnumber\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"children\": [\n            {\n              \"id\": \"1001A1100000000027JV\",\n              \"name\": \"賬房部（菲律賓）\",\n              \"totalnumber\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"children\": [\n                {\n                  \"id\": \"1001A1100000000027JT\",\n                  \"name\": \"晨麗賬房部（菲律賓）\",\n                  \"totalnumber\": 15,\n                  \"children\": null,\n                  \"colorId\":\"rgb(214, 104, 233)\",\n                  \"title\":15\n                },\n                {\n                  \"id\": \"1001A1100000000027JR\",\n                  \"name\": \"岡田賬房部（菲律賓）\",\n                  \"totalnumber\": 6,\n                  \"children\": null,\n                  \"colorId\":\"rgb(214, 104, 233)\",\n                  \"title\": 6\n                }\n              ],\n              \"title\": null\n            },\n            {\n              \"id\": \"1001A1100000000027K1\",\n              \"name\": \"貴賓服務部（菲律賓）\",\n              \"totalnumber\": 1,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"children\": [\n                {\n                  \"id\": \"1001A1100000000027JX\",\n                  \"name\": \"晨麗貴賓服務部（菲律賓）\",\n                  \"totalnumber\": 37,\n                  \"children\": null,\n                  \"colorId\":\"rgb(214, 104, 233)\",\n                  \"title\": 37\n                },\n                {\n                  \"id\": \"1001A1100000000027JZ\",\n                  \"name\": \"岡田貴賓服務部（菲律賓）\",\n                  \"totalnumber\": 34,\n                  \"children\": null,\n                  \"colorId\":\"rgb(214, 104, 233)\",\n                  \"title\": 34\n                }\n              ],\n              \"title\": null\n            },\n            {\n              \"id\": \"1001A1100000000027K5\",\n              \"name\": \"中央禮賓部（菲律賓）\",\n              \"totalnumber\": 17,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 17\n            },\n            {\n              \"id\": \"1001A1100000000027K7\",\n              \"name\": \"人力資源及行政部（菲律賓）\",\n              \"totalnumber\": 7,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 7\n            },\n            {\n              \"id\": \"1001A1100000000027K9\",\n              \"name\": \"資訊科技部（菲律賓）\",\n              \"totalnumber\": 2,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 2\n            }\n          ],\n          \"title\": null\n        },\n        {\n          \"id\": \"1001A1100000000027KL\",\n          \"name\": \"越南\",\n          \"totalnumber\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"children\": [\n            {\n              \"id\": \"1001A1100000000027KH\",\n              \"name\": \"貴賓服務部（越南）\",\n              \"totalnumber\": 23,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\":23\n            },\n            {\n              \"id\": \"1001A1100000000027KJ\",\n              \"name\": \"賬房部（越南）\",\n              \"totalnumber\": 10,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 10\n            }\n          ],\n          \"title\": null\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A1100000000027KP\",\n      \"name\": \"信貸管理部\",\n      \"totalnumber\": 2,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":2\n    },\n    {\n      \"id\": \"1001A1100000000027KR\",\n      \"name\": \"法律事務部\",\n      \"totalnumber\": 9,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 9\n    },\n    {\n      \"id\": \"1001A1100000000027KT\",\n      \"name\": \"會籍推廣部\",\n      \"totalnumber\": 2,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 2\n    },\n    {\n      \"id\": \"1001A110000000004DI1\",\n      \"name\": \"新葡京貴賓會\",\n      \"totalnumber\": 1,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 1\n    },\n    {\n      \"id\": \"1001A1100000000027JN\",\n      \"name\": \"賬房業務管理部\",\n      \"totalnumber\": 25,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":25,\n      \"children\": [\n        {\n          \"id\": \"1001A1100000000027JJ\",\n          \"name\": \"賬房部\",\n          \"totalnumber\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"children\": [\n            {\n              \"id\": \"1001A1100000000027IF\",\n              \"name\": \"星際賬房部\",\n              \"totalnumber\": 16,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 16\n            },\n            {\n              \"id\": \"1001A1100000000027JH\",\n              \"name\": \"美獅美高梅賬房部\",\n              \"totalnumber\": 15,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 15\n            },\n            {\n              \"id\": \"1001A1100000000027IX\",\n              \"name\": \"四季賬房部\",\n              \"totalnumber\": 15,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 15\n            },\n            {\n              \"id\": \"1001A1100000000027J1\",\n              \"name\": \"凱旋門賬房部\",\n              \"totalnumber\": 14,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 14\n            },\n            {\n              \"id\": \"1001A1100000000027J7\",\n              \"name\": \"銀河二期賬房部\",\n              \"totalnumber\": 13,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 13\n            },\n            {\n              \"id\": \"1001A1100000000027JB\",\n              \"name\": \"永利皇宮賬房部\",\n              \"totalnumber\": 12,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 12\n            },\n            {\n              \"id\": \"1001A1100000000027IJ\",\n              \"name\": \"威尼斯人賬房部\",\n              \"totalnumber\": 13,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 13\n            },\n            {\n              \"id\": \"1001A1100000000027IL\",\n              \"name\": \"新濠天地賬房部\",\n              \"totalnumber\": 16,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 16\n            },\n            {\n              \"id\": \"1001A1100000000027IN\",\n              \"name\": \"永利賬房部\",\n              \"totalnumber\": 16,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 16\n            },\n            {\n              \"id\": \"1001A1100000000027IP\",\n              \"name\": \"新葡京賬房部\",\n              \"totalnumber\": 13,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 13\n            },\n            {\n              \"id\": \"1001A1100000000027IR\",\n              \"name\": \"美高梅賬房部\",\n              \"totalnumber\": 14,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 14\n            },\n            {\n              \"id\": \"1001A1100000000027IT\",\n              \"name\": \"銀河一期賬房部\",\n              \"totalnumber\": 14,\n              \"children\": null,\n              \"colorId\":\"rgb(104, 207, 233)\",\n              \"title\": 14\n            }\n          ],\n          \"title\": null\n        },\n        {\n          \"id\": \"1001A1100000000027JL\",\n          \"name\": \"中央賬房部\",\n          \"totalnumber\": 15,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 15\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A1100000000027I7\",\n      \"name\": \"貴賓服務部\",\n      \"totalnumber\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"children\": [\n        {\n          \"id\": \"1001A1100000000027H5\",\n          \"name\": \"星際貴賓服務部\",\n          \"totalnumber\": 61,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 61\n        },\n        {\n          \"id\": \"1001A1100000000027HL\",\n          \"name\": \"銀河一期貴賓服務部\",\n          \"totalnumber\": 52,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 52\n        },\n        {\n          \"id\": \"1001A1100000000027H9\",\n          \"name\": \"威尼斯人貴賓服務部\",\n          \"totalnumber\": 38,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 38\n        },\n        {\n          \"id\": \"1001A1100000000027HB\",\n          \"name\": \"新濠天地貴賓服務部\",\n          \"totalnumber\": 54,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 54\n        },\n        {\n          \"id\": \"1001A1100000000027HD\",\n          \"name\": \"永利貴賓服務部\",\n          \"totalnumber\": 45,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 45\n        },\n        {\n          \"id\": \"1001A1100000000027HF\",\n          \"name\": \"新葡京貴賓服務部\",\n          \"totalnumber\": 15,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 15\n        },\n        {\n          \"id\": \"1001A1100000000027HH\",\n          \"name\": \"美高梅貴賓服務部\",\n          \"totalnumber\": 40,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\":40\n        },\n        {\n          \"id\": \"1001A1100000000027I1\",\n          \"name\": \"巴黎人貴賓服務部\",\n          \"totalnumber\": 2,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 2\n        },\n        {\n          \"id\": \"1001A1100000000027I3\",\n          \"name\": \"美獅美高梅貴賓服務部\",\n          \"totalnumber\": 48,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 48\n        },\n        {\n          \"id\": \"1001A1100000000027HN\",\n          \"name\": \"四季貴賓服務部\",\n          \"totalnumber\": 42,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 42\n        },\n        {\n          \"id\": \"1001A1100000000027HP\",\n          \"name\": \"金沙城中心貴賓服務部\",\n          \"totalnumber\": 1,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 1\n        },\n        {\n          \"id\": \"1001A1100000000027HR\",\n          \"name\": \"凱旋門貴賓服務部\",\n          \"totalnumber\": 43,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 43\n        },\n        {\n          \"id\": \"1001A1100000000027HT\",\n          \"name\": \"新濠鋒貴賓服務部\",\n          \"totalnumber\": 5,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 5\n        },\n        {\n          \"id\": \"1001A1100000000027HV\",\n          \"name\": \"銀河二期貴賓服務部\",\n          \"totalnumber\": 47,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 47\n        },\n        {\n          \"id\": \"1001A1100000000027HX\",\n          \"name\": \"永利皇宮貴賓服務部\",\n          \"totalnumber\": 53,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 53\n        },\n        {\n          \"id\": \"1001A1100000000027I5\",\n          \"name\": \"中央貴賓部\",\n          \"totalnumber\": 6,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 6\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A1100000000027I9\",\n      \"name\": \"品牌及市場推廣部\",\n      \"totalnumber\": 8,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 8\n    },\n    {\n      \"id\": \"1001A1100000000027IB\",\n      \"name\": \"企業策略部\",\n      \"totalnumber\": 4,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 4\n    },\n    {\n      \"id\": \"1001A1100000000027ID\",\n      \"name\": \"財務策劃部\",\n      \"totalnumber\": 2,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 2\n    },\n    {\n      \"id\": \"1001A11000000000222N\",\n      \"name\": \"市場發展部（海外區域）\",\n      \"totalnumber\": 2,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\":2,\n      \"children\": [\n        {\n          \"id\": \"1001A11000000000222F\",\n          \"name\": \"客戶關係發展部（菲律賓）\",\n          \"totalnumber\": 1,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 1\n        },\n        {\n          \"id\": \"1001A11000000000222H\",\n          \"name\": \"尊御服務部（菲律賓）\",\n          \"totalnumber\": 4,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 4\n        },\n        {\n          \"id\": \"1001A11000000000222J\",\n          \"name\": \"客戶關係發展部（越南）\",\n          \"totalnumber\": 4,\n          \"children\": null,\n          \"colorId\":\"rgb(198, 233, 104)\",\n          \"title\": 4\n        }\n      ],\n      \"title\": null\n    },\n    {\n      \"id\": \"1001A110000000002229\",\n      \"name\": \"行政及採購部\",\n      \"totalnumber\": 16,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 16\n    },\n    {\n      \"id\": \"1001A11000000000222B\",\n      \"name\": \"集團培訓發展部\",\n      \"totalnumber\": 9,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 9\n    },\n    {\n      \"id\": \"1001A11000000000222D\",\n      \"name\": \"總裁辦公室\",\n      \"totalnumber\": 14,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 14\n    },\n    {\n      \"id\": \"1001A110000000002227\",\n      \"name\": \"業務拓展部\",\n      \"totalnumber\": 34,\n      \"children\": null,\n      \"colorId\":\"rgb(240, 197, 128)\",\n      \"title\": 34\n    }\n    ]\n  }\n\n const exportTo = () => {\n  orgchart.current.exportTo(filename, fileextension);\n  };\n\n  const [filename, setFilename] = useState(\"organization_chart\");\n  const [fileextension, setFileextension] = useState(\"png\");\n\n  const onNameChange = event => {\n    setFilename(event.target.value);\n  };\n\n  const onExtensionChange = event => {\n    setFileextension(event.target.value);\n  };\n\n  return ( \n    <>\n    <section className=\"toolbar\">\n    <label htmlFor=\"txt-filename\">文件名:</label>\n    <input\n      id=\"txt-filename\"\n      type=\"text\"\n      value={filename}\n      onChange={onNameChange}\n      style={{ fontSize: \"1rem\", marginRight: \"2rem\" ,width:\"15rem\",height:\"2rem\"}}\n    />\n    <span>文件格式: </span>\n    <input\n      id=\"rd-png\"\n      type=\"radio\"\n      value=\"png\"\n      checked={fileextension === \"png\"}\n      onChange={onExtensionChange}\n    />\n    <label htmlFor=\"rd-png\">png</label>\n    <input\n      style={{ marginLeft: \"1rem\" }}\n      id=\"rd-pdf\"\n      type=\"radio\"\n      value=\"pdf\"\n      checked={fileextension === \"pdf\"}\n      onChange={onExtensionChange}\n    />\n    <label htmlFor=\"rd-pdf\">pdf</label>\n    <button\n      onClick={exportTo}\n      style={{ marginLeft: \"2rem\" }}\n    >\n      导出\n    </button>\n  </section>\n  <OrganizationChart datasource={ds} pan={true} zoom={true} ref={orgchart}/>\n  </>\n  );\n};\n\nexport default PanZoomChart;\n","import React from \"react\";\n// import { BrowserRouter as Router, Route, NavLink } from \"react-router-dom\";\nimport PanZoomChart from \"./pan-zoom-chart/pan-zoom-chart\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  return (\n    <PanZoomChart/>\n    \n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}